import{u as p,j as r,a as t,L as o,d as c}from"./app.944e8d8e.js";import{A as _}from"./AppLayout.595fb028.js";import"./FlashMessage.f8f9d883.js";import"./date.helpers.37179c42.js";import"./index.es.bbd55343.js";const x=({aircraft:i,myRentals:a,currentAirport:n})=>{const{auth:l}=p().props,h=e=>{window.confirm(`Confirm you would like to rent a ${e.manufacturer} ${e.name} for $${e.rental_cost}ph and a returnable deposit of $${e.rental_cost*10}`)&&c.Inertia.post("/rentals",{aircraft:e.id})},m=e=>{e.current_airport_id!==e.rental_airport_id?window.confirm(`Aircraft ${e.registration} is not at its home location, if you end the rental now you will not get your deposit back. Do you wish to continue?`)&&d(e):d(e)},d=e=>{c.Inertia.post(`/rentals/end/${e.id}`)},s=e=>t("div",{className:"mt-6 text-center",children:r("button",{onClick:()=>h(e.aircraft),className:"btn btn-secondary",children:["Rent ",e.aircraft.name]})}),u=e=>{if(n.is_hub)return e.rental_size===1&&n.size>=3?t(s,{aircraft:e}):e.rental_size===0?t(s,{aircraft:e}):t("div",{className:"mt-4 text-center text-sm text-red-500",children:"Aircraft not available here"})};return r("div",{className:"p-4",children:[r("div",{children:[t("h2",{className:"text-xl my-2",children:"My Rentals"}),t("div",{className:"bg-white rounded shadow overflow-x-auto",children:r("table",{className:"table table-auto table-condensed",children:[t("thead",{children:r("tr",{children:[t("th",{children:"Registration"}),t("th",{children:"Type"}),t("th",{children:"Location"}),t("th",{children:"Home"}),t("th",{children:"Rental Cost (hour)"}),t("th",{children:"Actions"})]})}),t("tbody",{children:a&&a.map(e=>r("tr",{children:[t("td",{children:e.registration}),r("td",{children:[e.fleet.manufacturer," ",e.fleet.name," (",e.fleet.type,")"]}),t("td",{children:t(o,{href:`airports/${e.current_airport_id}`,children:e.current_airport_id})}),t("td",{children:t(o,{href:`airports/${e.rental_airport_id}`,children:e.rental_airport_id})}),r("td",{children:["$",e.fleet.rental_cost]}),t("td",{children:t("span",{className:"text-orange-500",onClick:()=>m(e),children:"End rental"})})]},e.id))})]})})]}),r("div",{className:"mt-4",children:[t("h2",{className:"text-xl my-2",children:n.is_hub?r("span",{children:["Aircraft Available for Rental - ",l.user.current_airport_id]}):r("span",{children:[l.user.current_airport_id," - ",t("span",{className:"text-sm text-red-500",children:"You must be at a hub to rent aircraft"})]})}),t("div",{className:"flex flex-wrap justify-start mt-2",children:i&&i.map(e=>r("div",{className:"bg-white w-1/4 mx-4 rounded shadow my-2",children:[t("img",{className:"rounded-t",src:e.rental_image}),r("div",{className:"p-3",children:[r("div",{className:"text-xl",children:[e.type," ",e.manufacturer," - ",e.name]}),r("div",{className:"mt-1",children:["$",e.rental_cost," per hour ",t("span",{className:"text-sm",children:"(min. 2 hours per day)"})]}),r("div",{children:["$",e.rental_cost*10," Returnable deposit"]}),r("div",{className:"mt-2",children:[r("div",{children:["Cargo (lbs): ",e.cargo_capacity]}),r("div",{children:["Pax: ",e.pax_capacity]}),r("div",{children:["Fuel (gal): ",e.fuel_capacity]}),r("div",{children:["Cruise (kts): ",e.cruise_speed]}),r("div",{children:["Range (nm): ",e.range]})]}),u(e)]})]},e.id))})]})]})};x.layout=i=>t(_,{children:i,title:"Aircraft Rentals",heading:"Aircraft Rentals"});export{x as default};

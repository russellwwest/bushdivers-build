import{r as h,j as a,a as e,F as m,d as n}from"./app.944e8d8e.js";import{F as u,w as f}from"./index.es.bbd55343.js";import{P as g}from"./PageTitle.8f2ea7c4.js";import{N as x}from"./NoContent.cc240530.js";import{P as b}from"./Pagination.41d058ef.js";import{A as v}from"./AppLayout.595fb028.js";import{f as N}from"./index.c70614ee.js";import"./FlashMessage.f8f9d883.js";import"./date.helpers.37179c42.js";const P=()=>e(m,{children:e("div",{children:"There are no pirep entries"})}),w=({pireps:r})=>{const[i,d]=h.exports.useState("");function s(t){n.Inertia.get(`/logbook/${t.id}`)}const o=t=>{switch(t){case 1:return"Dispatch";case 2:return"In Progress";case 3:return"Accepted";case 4:return"Rejected";case 5:return"Review"}};function l(t){d(t.target.value)}function c(){i!==""&&n.Inertia.get(`/logbook/${i}`)}function p(t){n.Inertia.post("/pireps/approve",{pirep_id:t.id})}return a("div",{className:"p-4",children:[e(g,{title:"Pireps"}),e("div",{className:"bg-white rounded shadow overflow-x-auto",children:r.length===0?e(x,{content:e(P,{})}):a("div",{className:"my-2",children:[a("div",{className:"inline-block mx-2",children:[e("label",{htmlFor:"pirep",children:e("span",{className:"text-gray-700",children:"Pirep Id"})}),e("input",{id:"pirep",type:"text",placeholder:"Find pirep",className:"form-input form",value:i,onChange:l})]}),e("div",{className:"inline-block mx-2",children:e("button",{onClick:()=>c(),className:"btn btn-secondary",children:"Go"})}),a("table",{className:"table table-auto",children:[e("thead",{children:a("tr",{children:[e("th",{}),e("th",{children:"Departure"}),e("th",{children:"Arrival"}),e("th",{children:"Pilot"}),e("th",{children:"State"}),e("th",{children:"Date"}),e("th",{})]})}),e("tbody",{children:r.data.map(t=>a("tr",{children:[a("td",{className:"text-orange-500 hover:underline",onClick:()=>s(t),children:["View Details",t.state===5&&e("span",{className:"bg-orange-500 px-2 ml-2 text-white text-sm rounded",children:"Review"})]}),a("td",{children:[t.departure_airport_id,e("br",{}),e("span",{className:"text-xs",children:t.dep_airport.name})]}),a("td",{children:[t.destination_airport_id,e("br",{}),e("span",{className:"text-xs",children:t.arr_airport.name})]}),a("td",{children:[e("span",{children:t.pilot.pilot_id}),e("br",{}),e("span",{className:"text-xs",children:t.pilot.private_name})]}),e("td",{children:o(t.state)}),e("td",{children:N(new Date(t.submitted_at),"dd LLL yyyy")}),e("td",{children:t.state===5&&e(u,{icon:f,onClick:()=>p(t),className:"p-1 hover:rounded hover:shadow"})})]},t.id))})]}),e(b,{pages:r})]})})]})};w.layout=r=>e(v,{children:r,title:"Admin - Pireps",heading:"Pireps"});export{w as default};

import{r as N,j as a,a as e,F as g,u as A,L as F,d as x}from"./app.944e8d8e.js";import{P as h,F as f,Q as D,R as v,S as P}from"./index.es.bbd55343.js";import{c as T}from"./date.helpers.37179c42.js";import{A as B}from"./AppLayout.595fb028.js";import"./FlashMessage.f8f9d883.js";const M=({apiKey:s})=>{const[o,r]=N.exports.useState(!1);function l(){r(!0),navigator.clipboard.writeText(s)}return a("div",{children:[a("div",{className:"text-gray-700",children:["Bush Tracker Key ",e("span",{className:"text-xs",children:"(click to display key and copy to clipboard)"})]}),e("div",{className:"cursor-pointer mt-2",onClick:l,children:o?s:"***************"})]})};var y={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(s){(function(){var o={}.hasOwnProperty;function r(){for(var l=[],m=0;m<arguments.length;m++){var t=arguments[m];if(!!t){var i=typeof t;if(i==="string"||i==="number")l.push(t);else if(Array.isArray(t)){if(t.length){var p=r.apply(null,t);p&&l.push(p)}}else if(i==="object")if(t.toString===Object.prototype.toString)for(var c in t)o.call(t,c)&&t[c]&&l.push(c);else l.push(t.toString())}}return l.join(" ")}s.exports?(r.default=r,s.exports=r):window.classNames=r})()})(y);var V=y.exports;const b=({children:s,appearance:o,isDisabled:r,isLoading:l,isCompact:m,isFullWidth:t,onClick:i})=>{const p=V("btn",{"btn-primary":o==="primary","btn-secondary":o==="secondary","btn-light":o==="light","btn-small":m,"btn-fw":t});return e("button",{onClick:()=>i(),className:p,disabled:r,children:l?e(f,{className:"fa-spin",icon:D,spin:!0}):e(g,{children:s})})};b.propTypes={children:h.node,appearance:h.string,isDisabled:h.bool,isLoading:h.bool,isCompact:h.bool,isFullWidth:h.bool,onClick:h.func};const L=({profile:s,hubs:o,rank:r,nextRank:l,awards:m})=>{const{errors:t}=A().props,[i,p]=N.exports.useState({email:s.email,password:null,name:s.name,opt_in:s.opt_in,msfs_username:s.msfs_username,volanta_username:s.volanta_username,discord_username:s.discord_username}),[c,w]=N.exports.useState(s.map_style);function u(n){w(n.target.value)}function _(){console.log("map updated"),x.Inertia.put("/settings/map",{map_style:c})}function d(n){const C=n.target.id,S=n.target.type==="checkbox"?n.target.checked:n.target.value;p(j=>({...j,[C]:S}))}function k(n){n.preventDefault(),x.Inertia.put("/profile",i)}return e("div",{className:"p-4",children:a("div",{className:"flex flex-col md:flex-row justify-between md:items-start",children:[e("div",{className:"bg-white rounded shadow mt-4 p-4 md:w-1/2",children:a("form",{onSubmit:k,children:[a("div",{className:"my-2",children:[e("label",{htmlFor:"email",className:"block",children:e("span",{className:"text-gray-700",children:"Email"})}),e("input",{id:"email",value:i.email,onChange:d,type:"email",className:"form-input form"}),t.email&&e("div",{className:"text-sm text-red-500",children:t.email})]}),a("div",{className:"my-2",children:[e("label",{htmlFor:"name",className:"block",children:e("span",{className:"text-gray-700",children:"Name"})}),e("input",{id:"name",value:i.name,onChange:d,type:"text",className:"form-input form"}),t.name&&e("div",{className:"text-sm text-red-500",children:t.name})]}),a("div",{className:"my-2",children:[e("label",{htmlFor:"password",className:"block",children:e("span",{className:"text-gray-700",children:"Password"})}),e("input",{id:"password",value:i.password,onChange:d,type:"password",className:"form-input form"}),t.password&&e("div",{className:"text-sm text-red-500",children:t.password})]}),a("div",{className:"my-2",children:[e("label",{htmlFor:"msfs_username",className:"block",children:e("span",{className:"text-gray-700",children:"MSFS username"})}),e("input",{id:"msfs_username",value:i.msfs_username,onChange:d,type:"text",className:"form-input form"})]}),a("div",{className:"my-2",children:[e("label",{htmlFor:"volanta_username",className:"block",children:e("span",{className:"text-gray-700",children:"Volanta username"})}),e("input",{id:"volanta_username",value:i.volanta_username,onChange:d,type:"text",className:"form-input form"})]}),a("div",{className:"my-2",children:[e("label",{htmlFor:"discord_username",className:"block",children:e("span",{className:"text-gray-700",children:"Discord username"})}),e("input",{id:"discord_username",value:i.discord_username,onChange:d,type:"text",className:"form-input form"})]}),e("div",{className:"my-2",children:a("label",{htmlFor:"opt_in",className:"inline-flex items-center",children:[e("input",{id:"opt_in",checked:i.opt_in,onChange:d,type:"checkbox",className:"form-checkbox rounded border-gray-300 text-orange-500 shadow-sm focus:border-orange-300 focus:ring focus:ring-offset-0 focus:ring-orange-200 focus:ring-opacity-50"}),e("span",{className:"text-gray-700 ml-2",children:"Opt in to notification emails"})]})}),e("button",{className:"btn btn-primary",children:"Update profile"})]})}),a("div",{className:"md:w-1/2 md:ml-4 mt-4",children:[e("div",{className:"bg-white rounded shadow p-4",children:e(M,{apiKey:s.api_token})}),e("div",{className:"mt-4 bg-white rounded shadow p-4",children:l?a(g,{children:[e("div",{children:"Next Rank:"}),a("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[a("div",{className:"flex items-center",children:[e("img",{width:"60",src:l.image})," ",e("span",{className:"ml-2 text-sm",children:l.name})]}),e("div",{className:"text-sm flex",children:a("div",{className:"mr-2",children:["Hours: ",s.flights_time>=l.hours*60?e(f,{className:"text-green-500",icon:v}):e("span",{children:T(l.hours*60-s.flights_time)}),e("br",{}),"Points: ",s.points>=l.points?e(f,{className:"text-green-500",icon:v}):e("span",{children:l.points-s.points})]})}),e("div",{className:"",children:e("div",{className:"text-sm flex items-center"})})]})]}):a("div",{children:["Congratulations, ",r.name,".",e("br",{}),"You have achieved the highest rank."]})}),a("div",{className:"rounded shadow p-4 mt-4 bg-white",children:[a("div",{className:"text-lg flex items-center",children:[e(f,{icon:P,className:"mr-2"})," Awards"]}),m.length?e("div",{className:"mt-4 flex flex-col md:flex-row flex-wrap justify-center items-center",children:m&&m.map(n=>a("div",{className:"mx-2 my-1 w-1/6 flex flex-col items-center",children:[e("img",{height:"100",width:"100",src:n.image}),e("div",{className:"mt-1 text-sm text-center",children:n.name})]},n.id))}):a("div",{className:"mt-1 text-sm text-center",children:["No awards yet. ",e(F,{href:"/ranks#awards",children:"Earn some!"})]})]}),a("div",{className:"rounded shadow p-4 mt-4 bg-white",children:[e("div",{children:"Map Style"}),a("div",{className:"my-2 flex flex-wrap",children:[a("div",{className:"mx-2 flex flex-col items-start",children:[a("label",{className:"inline-flex items-center",children:[e("input",{type:"radio",className:"form-radio",name:"accountType",value:"dark",checked:c==="dark",onChange:u}),e("span",{className:"mx-2 cursor-pointer",children:"Dark"})]}),e("img",{src:"https://res.cloudinary.com/dji0yvkef/image/upload/c_scale,w_150/v1647292891/BDVA/maps/dark_ftbhz9.png"})]}),a("div",{className:"mx-2 flex flex-col items-start",children:[a("label",{className:"inline-flex items-center",children:[e("input",{type:"radio",className:"form-radio",name:"accountType",value:"light",checked:c==="light",onChange:u}),e("span",{className:"mx-2 cursor-pointer",children:"Light"})]}),e("img",{src:"https://res.cloudinary.com/dji0yvkef/image/upload/c_scale,w_150/v1647292892/BDVA/maps/light_ascwde.png"})]}),a("div",{className:"mx-2 flex flex-col items-start",children:[a("label",{className:"inline-flex items-center",children:[e("input",{type:"radio",className:"form-radio",name:"accountType",value:"street",checked:c==="street",onChange:u}),e("span",{className:"mx-2 cursor-pointer",children:"Street"})]}),e("img",{src:"https://res.cloudinary.com/dji0yvkef/image/upload/c_scale,w_150/v1647292892/BDVA/maps/street_liemax.png"})]}),a("div",{className:"mx-2 flex flex-col items-start",children:[a("label",{className:"inline-flex items-center",children:[e("input",{type:"radio",className:"form-radio",name:"accountType",value:"satellite",checked:c==="satellite",onChange:u}),e("span",{className:"mx-2 cursor-pointer",children:"Satellite"})]}),e("img",{src:"https://res.cloudinary.com/dji0yvkef/image/upload/c_scale,w_150/v1647292892/BDVA/maps/satellite_rcdhkd.png"})]}),a("div",{className:"mx-2 flex flex-col items-start",children:[a("label",{className:"inline-flex items-center",children:[e("input",{type:"radio",className:"form-radio",name:"accountType",value:"terrain",checked:c==="terrain",onChange:u}),e("span",{className:"mx-2 cursor-pointer",children:"Terrain (outdoor)"})]}),e("img",{src:"https://res.cloudinary.com/dji0yvkef/image/upload/c_scale,w_150/v1658312019/BDVA/maps/terrain_khjw8s.png"})]})]}),e(b,{onClick:_,appearance:"primary",children:"Update"})]})]})]})})};L.layout=s=>e(B,{children:s,title:"Profile",heading:"Profile"});export{L as default};

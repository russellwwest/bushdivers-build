import{j as c,a as e,L as h,d as o}from"./app.944e8d8e.js";import{D as m}from"./DispatchSummary.1ddd02b6.js";import{A as p}from"./AppLayout.595fb028.js";import{F as g,L as v}from"./index.es.bbd55343.js";import"./FlashMessage.f8f9d883.js";import"./date.helpers.37179c42.js";const f=({cargo:t,aircraft:i,cargoWeight:n,fuelWeight:s,passengerCount:d,pirep:a})=>{function l(){window.confirm("You have an active flight, if you cancel now you will lose all progress")&&o.Inertia.post("/dispatch/cancel",{pirep:a.id})}return c("div",{className:"p-4",children:[c("div",{children:[a.id," ",e(h,{className:"ml-2",href:"/pireps/submit",children:e("button",{className:"btn btn-secondary",children:"Submit Manual Pirep"})})]}),a.state===2&&e("div",{children:e("span",{className:"text-orange-500",children:"Current flight in progress"})}),c("div",{className:"flex flex-col md:flex-row justify-between",children:[e("div",{className:"md:mr-2 md:w-1/2",children:c("div",{className:"bg-white rounded shadow mt-4 p-4",children:[e("div",{className:"mb-2 text-xl",children:"Selected Cargo"}),e("div",{className:"overflow-x-auto",children:c("table",{className:"table table-auto table-condensed",children:[e("thead",{children:c("tr",{children:[e("th",{children:"Contract"}),e("th",{children:"Current"}),e("th",{children:"Arrival"}),e("th",{children:"Distance"}),e("th",{children:"Heading"}),e("th",{children:"Type"}),e("th",{children:"Cargo"})]})}),e("tbody",{children:t.map(r=>c("tr",{children:[e("td",{children:r.id}),e("td",{children:r.current_airport_id}),e("td",{children:r.contract.arr_airport_id}),c("td",{children:[r.contract.distance," nm"]}),e("td",{children:c("div",{className:"flex items-center",children:[e("div",{className:"w-1/2",children:e("span",{className:"mr-2",children:r.contract.heading})}),e("div",{className:"w-1/2 flex",children:e("span",{style:{transform:`rotate(${r.contract.heading}deg)`},children:e(g,{icon:v,className:"text-gray-800"})})})]})}),e("td",{children:r.cargo_type_id===1?"Cargo":"Passenger"}),e("td",{children:r.cargo_type_id===1?c("div",{children:[c("span",{children:[r.cargo_qty," lbs"]})," ",e("span",{className:"text-xs",children:r.cargo})]}):c("div",{children:[e("span",{children:r.cargo_qty})," ",e("span",{className:"text-xs",children:r.cargo})]})})]},r.id))})]})})]})}),e("div",{className:"md:ml-2 md:w-1/2",children:c("div",{className:"bg-white rounded shadow mt-4 p-4",children:[e(m,{selectedAircraft:i,selectedCargo:t,personWeight:170,cargoWeight:n,fuelWeight:s,passengerCount:d,pirep:a,deadHead:a.is_empty}),e("div",{className:"text-right",children:e("button",{onClick:l,className:"btn btn-primary",children:"Cancel Dispatch"})})]})})]})]})};f.layout=t=>e(p,{children:t,title:"Active Dispatch",heading:"Active Dispatch"});export{f as default};
